<!-- dashboard.html -->
{% extends "base.html" %}

{% block title %}Dashboard - Your App{% endblock %}

{% block content %}
    <h2>User Dashboard</h2>
    
    <h3>My Files</h3>
    <ul>
        {% for file in user_files %}
            <li>
                <strong>{{ file.filename }}</strong> 
                <a href="{{ url_for('view_revisions', filename=file.filename) }}">View Revisions</a> 
                <a href="{{ url_for('download_all_revisions', filename=file.filename) }}">Download All Revisions</a>
            </li>
        {% endfor %}
    </ul>

    <h3>Upload a File</h3>
    <form method="post" action="{{ url_for('queue') }}" enctype="multipart/form-data">
        {{ form.hidden_tag() }}
        <input type="file" name="file" required>
        <button type="submit">Upload</button>
    </form>

    <h3>Manage Revisions</h3>
    {% if revisions %}
        <ul>
            {% for revision in revisions %}
                <li>
                    <p>Revision ID: {{ revision.id }}</p>
                    <pre>{{ revision.revision }}</pre>
                    <a href="{{ url_for('download_revision', filename=revision.file_name, revision_id=revision.id) }}">Download</a>
                    <a href="{{ url_for('delete_revision', filename=revision.file_name, revision_id=revision.id) }}">Delete</a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No revisions found.</p>
    {% endif %}

    <h3>User Settings</h3>
    <!-- Add form for managing user settings -->
    <form method="post" action="{{ url_for('update_settings') }}">
        {{ form.hidden_tag() }}
        <!-- Add input fields for updating user settings -->
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" value="{{ current_user.username }}" required>
        <button type="submit">Update Settings</button>
    </form>

    <!-- Add additional sections for managing other aspects of the user dashboard -->

{% endblock %}
